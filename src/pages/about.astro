---
import Layouts from "../layouts/Layouts.astro";
import Header from "../components/Project/Header.astro";
import Footer from "../components/Project/Footer.astro";
import SectionHeaderTitle2 from "../components/Project/SectionHeaderTitle2.astro";
import { Image } from "astro:assets"; 
import "../styles/front.css";

import ja from "../locales/ja/translation.json";
import en from "../locales/en/translation.json";
import ko from "../locales/ko/translation.json";

const locales = { ja, en, ko };
type Locale = keyof typeof locales;

const url = new URL(Astro.request.url);
const params = Object.fromEntries(url.searchParams.entries());
const queryLang = params.lang as Locale;
const locale: Locale = locales[queryLang] ? queryLang : "ja";
const t = locales[locale];

import headerAboutImg from "../assets/images/common/header_about.webp";
import headerArrowImg from "../assets/images/common/header_arrow.webp";
import visionImg from "../assets/images/common/about_vision.webp";
import missionImg from "../assets/images/common/about_mission.webp";
import valueImg from "../assets/images/common/about_value.webp";

const aboutContents = [
  {
    title: "vision",
    comments: t.about.vision_comments,
    img: visionImg,
  },
  {
    title: "mission",
    comments: t.about.mission_comments,
    img: missionImg,
  },
  {
    title: "value",
    comments: t.about.value_comments,
    img: valueImg,
  },
];
---

<Layouts title={t.common.layout_title}>
  <Header t={t} locale={locale} />
  
  <main>
    <div class="relative overflow-hidden">
      <SectionHeaderTitle2 title={t.about.layout_title} subTitle="about">
        
		<div
  slot="default"
  class="mt-20 md:mt-18">
  <span
    data-animation="slideLeft"
    class="text-white block leading-[1.8] md:leading-relaxed whitespace-pre-wrap -translate-y-4 md:-translate-y-4"
  >
    {t.about.content_title}
  </span>
</div>
        <Image
          slot="img"
          src={headerAboutImg}
          alt=""
          class="max-h-full h-full w-auto object-cover ml-auto my-auto relative z-10"
          data-animation="slideRight"
        />
      </SectionHeaderTitle2>
      <Image
        src={headerArrowImg}
        alt=""
        class="absolute top-[25%] right-[10%] -translate-y-1/2 translate-x-1/3 z-0 w-[56%] h-auto"
        data-animation="slideLeft"
      />
    </div>

    <div class="md:my-20 overflow-x-hidden">
      {
        aboutContents.map((el) => {
          return (
            <div class="mb-20">
              <Image
                src={el.img}
                alt={el.title}
                class="mb-8 w-full h-auto"
                data-animation="slideDown"
              />
              <div class="container max-w-[1000px] px-4 mx-auto"> 
                <h2
                  class="font-mont uppercase font-bold text-[clamp(2rem,1.472rem+2.254vw,3.5rem)] tracking-wider leading-tight mb-4 text-black"
                  set:html={el.title}
                  data-animation="slideLeft"
                />
                <p
                  class="text-lg md:text-xl font-bold leading-relaxed whitespace-pre-wrap"
                  set:html={el.comments}
                  data-animation="slideLeft"
                />
              </div>
            </div>
          );
        })
      }
    </div>
  </main>

  <Footer t={t} locale={locale} />
</Layouts>

<style is:global>
  .main-header a, .main-header span, .main-header div {
    color: #ffffff !important;
  }
  header .lang-switcher,
  header .current-lang,
  header [class*="icon"] {
    color: #ffffff !important;
  }
  .main-header.is-scrolled {
    background-color: rgba(0, 0, 0, 0.85) !important;
  }

  .header-center a.text-gray-400 {
    color: rgba(255, 255, 255, 0.5) !important;
    font-weight: normal !important;
  }

  .header-center a.font-bold {
    color: #ffffff !important;
    font-weight: 800 !important;
    border-bottom: 2px solid #ffffff !important;
  }
</style>

<script src="../lib/front.ts"></script>